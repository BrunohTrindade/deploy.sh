# ==========================================
# 🔧 CONFIGURAÇÕES DO DEPLOY AUTOMÁTICO
# ==========================================
# Este arquivo permite personalizar o comportamento do script
# sem modificar o código principal

# ══════════════════════════════════════════════════════════════════════════════
# 📁 CONFIGURAÇÕES DE DIRETÓRIOS
# ══════════════════════════════════════════════════════════════════════════════

# Diretório base do Apache
APACHE_DIR="/var/www"

# Arquivo de configuração de portas do Apache
PORTS_FILE="/etc/apache2/ports.conf"

# Diretório para logs do deploy
LOG_DIR="$HOME/deploy_logs"

# Usuário supervisor padrão
SUPERVISOR_USER="www-data"

# ══════════════════════════════════════════════════════════════════════════════
# 🌐 CONFIGURAÇÕES DE REDE
# ══════════════════════════════════════════════════════════════════════════════

# Faixa de portas para sugestão automática
PORT_RANGE_START=8000
PORT_RANGE_END=9000

# Porta padrão para HTTP
DEFAULT_HTTP_PORT=80

# Porta padrão para HTTPS
DEFAULT_HTTPS_PORT=443

# ══════════════════════════════════════════════════════════════════════════════
# 🚀 CONFIGURAÇÕES DE PROJETOS
# ══════════════════════════════════════════════════════════════════════════════

# Mapeamento de tipos de projeto para DocumentRoot
declare -A PROJECT_DOC_ROOTS=(
    ["Laravel"]="public"
    ["Vue"]="dist"
    ["React"]="build"
    ["Angular"]="dist"
    ["Node.js"]=""
    ["Python"]=""
    ["PHP"]=""
    ["HTML"]=""
)

# Arquivos índice para verificação automática
INDEX_FILES=("index.php" "index.html" "app.js" "main.py" "server.js")

# ══════════════════════════════════════════════════════════════════════════════
# 📦 CONFIGURAÇÕES DE DEPENDÊNCIAS
# ══════════════════════════════════════════════════════════════════════════════

# URL para instalação do Composer
COMPOSER_INSTALLER_URL="https://getcomposer.org/installer"

# URL para instalação do Node.js
NODEJS_SETUP_URL="https://deb.nodesource.com/setup_lts.x"

# Extensões PHP essenciais
PHP_EXTENSIONS=("mbstring" "xml" "ctype" "json" "bcmath" "openssl" "pdo" "tokenizer" "zip" "curl")

# Módulos Apache a serem habilitados
APACHE_MODULES=("rewrite" "proxy" "proxy_http" "headers" "ssl" "deflate" "expires" "mime")

# ══════════════════════════════════════════════════════════════════════════════
# 🔒 CONFIGURAÇÕES DE SEGURANÇA
# ══════════════════════════════════════════════════════════════════════════════

# Permissões para diretórios
DIR_PERMISSIONS="775"

# Permissões para arquivos sensíveis (.env)
SENSITIVE_FILE_PERMISSIONS="640"

# Headers de segurança para Apache
SECURITY_HEADERS=(
    "Header always set X-Content-Type-Options nosniff"
    "Header always set X-Frame-Options DENY"
    "Header always set X-XSS-Protection \"1; mode=block\""
    "Header always set Referrer-Policy \"strict-origin-when-cross-origin\""
    "Header always set Permissions-Policy \"geolocation=(), microphone=(), camera=()\""
)

# ══════════════════════════════════════════════════════════════════════════════
# 🎨 CONFIGURAÇÕES DE INTERFACE
# ══════════════════════════════════════════════════════════════════════════════

# Ativar cores no terminal (true/false)
ENABLE_COLORS=true

# Ativar emojis na interface (true/false)
ENABLE_EMOJIS=true

# Nível de verbosidade (quiet/normal/verbose)
VERBOSITY="normal"

# ══════════════════════════════════════════════════════════════════════════════
# ⚙️ CONFIGURAÇÕES AVANÇADAS
# ══════════════════════════════════════════════════════════════════════════════

# Timeout para operações de rede (em segundos)
NETWORK_TIMEOUT=30

# Número máximo de tentativas para operações que podem falhar
MAX_RETRIES=3

# Ativar backup automático antes do deploy (true/false)
ENABLE_BACKUP=false

# Diretório para backups
BACKUP_DIR="$HOME/deploy_backups"

# Ativar verificação de integridade de arquivos (true/false)
ENABLE_INTEGRITY_CHECK=true

# ══════════════════════════════════════════════════════════════════════════════
# 🗄️ CONFIGURAÇÕES DE BANCO DE DADOS
# ══════════════════════════════════════════════════════════════════════════════

# Configurações padrão para diferentes SGBDs
declare -A DB_DEFAULT_PORTS=(
    ["mysql"]="3306"
    ["postgresql"]="5432"
    ["mongodb"]="27017"
    ["redis"]="6379"
)

# Drivers de banco suportados
SUPPORTED_DB_DRIVERS=("mysql" "postgresql" "sqlite" "mongodb")

# ══════════════════════════════════════════════════════════════════════════════
# 🔧 CONFIGURAÇÕES DE OTIMIZAÇÃO
# ══════════════════════════════════════════════════════════════════════════════

# Ativar compressão Gzip no Apache (true/false)
ENABLE_COMPRESSION=true

# Tipos MIME para compressão
COMPRESSION_TYPES=(
    "text/plain"
    "text/html"
    "text/xml"
    "text/css"
    "application/xml"
    "application/xhtml+xml"
    "application/rss+xml"
    "application/javascript"
    "application/x-javascript"
    "application/json"
)

# Ativar cache de arquivos estáticos (true/false)
ENABLE_STATIC_CACHE=true

# Tempo de cache para arquivos estáticos (em segundos)
STATIC_CACHE_TIME=2592000  # 30 dias

# ══════════════════════════════════════════════════════════════════════════════
# 📝 CONFIGURAÇÕES DE LOG
# ══════════════════════════════════════════════════════════════════════════════

# Nível de log do Apache (emerg/alert/crit/error/warn/notice/info/debug)
APACHE_LOG_LEVEL="warn"

# Rotacionar logs automaticamente (true/false)
ENABLE_LOG_ROTATION=true

# Tamanho máximo dos arquivos de log (em MB)
MAX_LOG_SIZE=100

# Número de arquivos de log a manter
LOG_RETENTION_COUNT=5